<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style1.css">
</head>
<body>
    <header>
       <h1>МДК.07.01  Управление и автоматизация баз данных</h1> 
    </header>
    <div class="cont">
    <div class="item1 card">
    <ol>
        <li><a href="1t.html">Аутентификация соединений с сервером Авторизация логинов для подключения к базам данных</a></li>
        <li><a href="2t.html">Требования безопасности к серверам баз данных. Классы защиты</a></li>
        <li><a href="3t.html">Работа с ролями сервера Работа с фиксированными ролями базы данных/ Назначение пользовательских ролей базы данных</a></li>
        <li><a href="4t.html">Отчеты тестировании. Регрессионное и смоук-тестирование. Тестирование локализации.</a></li>
        <li><a href="5t.html">Анализ требований.</a></li>
        <li><a href="6t.html">Тест дизайн.</a></li>
        <li><a href="7t.html">Тестовая документация.</a></li>
        <li><a href="8t.html">Практическое занятие 1 Создание тестовой документации для сервиса</a></li>
        <li><a href="9t.html">Практическое занятие 2 Клиент-серверная архитектура. Веб-приложение. URL.</a></li>
        <li><a href="10t.html">Практическое занятие 3 Протоколы HTTP и HTTPS. Структура HTTP-запроса и ответа.</a></li>
        <li><a href="11t.html">Практическое занятие 4 Инструмент для работы с макетами. Элементы интерфейса: общие элементы, элементы ввода данных, элементы выбора данных, элементы действий</a></li>
        <li><a href="12t.html">Практическое занятие 5 Формы. Тестирование валидации. Тестирование текста на ошибки.</a></li>
        <li><a href="13t.html">Практическое занятие 6 Кроссплатформенное тестирование. Как понять, на каких ОС проверять приложение.</a></li>
    </ol></div>
    <div class="item2 card">
        <div class="card">
            <h2>Работа с ролями сервера Работа с фиксированными ролями базы данных/ Назначение пользовательских ролей базы данных</h2>
        </div>
        <div class="card">
            <h3>Пользователи и права доступа в БД </h3>
            <p>В первую очередь мы должны определиться зачем нам нужно разделение прав доступа в БД и какие "пользователи" в ней могут быть. Для этого разберём тему на примере банка.</p>
            <p>Рассмотрим пример с тремя типами пользователей: </p>
            <p><b>Администратор базы данных: </b>(в жизни:) это IT сотрудник, который работает с базой данных. (в базе данных:) Этот пользователь обладает полными правами на управление базой данных. Он может создавать, удалять и редактировать таблицы, устанавливать права доступа для других пользователей, настраивать систему безопасности и выполнять другие административные задачи. </p>
            <p><b>Диспетчер / личный менеджер: </b>(в жизни:) этот сотрудник звонит вам по телефону, чтобы предложить новую услугу / отвечает на ваши обращения в банк, подскажет вам о ваших операциях или подключенных услугах. (в базе данных:) У этого пользователя есть доступ к информации о клиентах, чтобы помогать им с операциями и решать возникающие вопросы. Он может просматривать историю операций, баланс счета, персональные данные клиента, но не может изменять их.</p>
            <p><b>Супервайзер: </b>(в жизни:) это руководитель личных менеджеров, он следит за их работой и даёт возможность изменять данные клиентов по их обращениям. (в базе данных:) У этого пользователя есть более расширенные права, чем у диспетчера. Он может просматривать информацию о клиентах, а также изменять их данные, например, адрес или контактную информацию. Кроме того, супервайзер имеет доступ к информации о сотрудниках, но не может редактировать их данные.</p>
            <p><b>Почему такая система разделения прав необходима?</b></p>
            <ol>
                <li><b>Безопасность: </b>Разделение прав доступа предотвращает несанкционированный доступ к данным, минимизируя риски утечки информации. Например, диспетчер не может изменить финансовые данные клиентов, а супервайзер не может просматривать информацию о зарплате сотрудников.</li>
                <li><b>Контроль: </b>Каждая операция в базе данных отслеживается и записывается в журнал аудита. Таким образом, администратор может видеть, кто и когда производил изменения в базе данных, что позволяет отслеживать действия пользователей и выявлять потенциальные угрозы.</li>
                <li><b>Эффективность: </b>Разделение прав позволяет организовать работу с данными более эффективно. Например, диспетчер может быстро найти информацию о клиенте, не имея доступа к конфиденциальным данным, а супервайзер может оперативно изменить информацию о клиенте, не получая разрешения у администратора базы данных.</li>
            </ol>
            <b>Пример: изменение данных клиента </b>
            <p><b>Диспетчер: </b>Не имеет права изменять данные клиента. Он может только просматривать информацию. </p>
            <p><b>Супервайзер: </b>Имеет право изменять данные клиента, например, контактный телефон или адрес. </p>
            <p><b>Администратор: </b>Имеет полные права и может изменять любые данные клиента. </p>
        </div>
        <div class="card">
            <h3>Введение в ролевую безопасность</h3>
            <p>В современных СУБД (SQL Server, PostgreSQL, Oracle и др.) управление правами доступа осуществляется через <b>роли. </b>Роль — это именованный набор привилегий, который можно назначить пользователю или другой роли. Это упрощает администрирование: вместо назначения прав каждому пользователю отдельно, права назначаются ролям, а пользователи включаются в нужные роли.</p>
            <p>Существует два основных уровня ролей:</p>
            <ol>
                <li><b>Роли уровня сервера — </b>управляют правами на уровне всего экземпляра СУБД.</li>
                <li><b>Роли уровня базы данных — </b>управляют правами в рамках конкретной базы данных.</li>
            </ol>
        </div>
        <div class="card">
            <h3>Роли уровня сервера</h3>
            <p>Эти роли предназначены для администрирования самого сервера баз данных. Они существуют вне конкретных баз данных.</p>
            <p><b>Примеры фиксированных серверных ролей в SQL Server:</b></p>
            <ul>
                <li>sysadmin — выполняет любые действия на сервере. (Аналогична root в Linux).</li>
                <li>serveradmin — может изменять конфигурации сервера и останавливать его.</li>
                <li>securityadmin — управляет именами входа (логинами) на уровне сервера.</li>
                <li>processadmin — может завершать процессы на сервере.</li>
                <li>setupadmin — управляет связанными серверами и запускаемыми процедурами.</li>
                <li>bulkadmin — может выполнять операции массового импорта данных (BULK INSERT).</li>
                <li>diskadmin — управляет файлами дисков.</li>
                <li>dbcreator — может создавать, изменять и удалять базы данных.</li>
                <li>public — базовая роль, в которую по умолчанию входят все логины. Необходимо осторожно назначать права для этой роли.</li>
            </ul>
            <p><b>Назначение серверной роли пользователю (логину):</b></p>
            <p>sql</p>
            <p>-- Синтаксис для SQL Server</p>
            <p>ALTER SERVER ROLE [sysadmin] ADD MEMBER [ИмяЛогина];</p>
            <p>sql</p>
            <p>-- Синтаксис для PostgreSQL (роли сервера часто являются ролями с правом входа)</p>
            <p>CREATE ROLE admin_role WITH LOGIN SUPERUSER;</p>
            <p><b>Важно: </b>Наделение пользователя мощными серверными ролями (как sysadmin) должно быть строго обосновано.</p>
        </div>
        <div class="card">
            <h3>Роли уровня базы данных</h3>
            <p>Эти роли действуют в контексте конкретной базы данных и управляют правами на доступ к ее объектам: таблицам, представлениям, процедурам и т.д.</p>
            <ol>
                <li><b>Фиксированные роли базы данных</b></li>
                <p>Это предопределенные роли с уже настроенным набором привилегий. Их нельзя изменить.</p>
                <p><b>Примеры фиксированных ролей базы данных в SQL Server:</b></p>
                    <ul>
                        <li>db_owner — имеет все права в базе данных. Может выполнять любые действия.</li>
                        <li>db_securityadmin — может управлять членством в ролях и правами доступа к объектам.</li>
                        <li>db_accessadmin — может добавлять или удалять доступ для логинов к текущей базе данных.</li>
                        <li>db_backupoperator — может создавать резервные копии базы данных.</li>
                        <li>db_ddladmin — может выполнять любые команды DDL (CREATE, ALTER, DROP) в базе данных.</li>
                        <li>db_datawriter — может добавлять, изменять и удалять данные во всех пользовательских таблицах.</li>
                        <li>db_datareader — может читать данные из всех пользовательских таблиц.</li>
                        <li>db_denydatawriter — не может изменять данные в таблицах.</li>
                        <li>db_denydatareader — не может читать данные из таблиц.</li>
                        <li>public — все пользователи базы данных являются членами этой роли. Права, назначенные роли public, получают все пользователи.</li>
                    </ul>
                <p><b>Назначение фиксированной роли базы данных пользователю:</b></p>
                <p>sql</p>
                <p>-- В SQL Server пользователь должен уже существовать в базе данных</p>
                <p>EXEC sp_addrolemember 'db_datareader', 'ИмяПользователяВБД';</p>
                <p>-- Или более современный синтаксис</p>
                <p>ALTER ROLE [db_datareader] ADD MEMBER [ИмяПользователяВБД];</p>
                <li><b>Пользовательские роли базы данных</b></li>
                <p>Администратор может создавать собственные роли для реализации сложной политики безопасности, соответствующей бизнес-процессам.</p>
                <p><b>Пример: </b>В базе данных магазина можно создать роли:</p>
                    <ul>
                        <li>МенеджерПродаж — может просматривать и изменять заказы, но не может удалять их.</li>
                        <li>Бухгалтер — может просматривать все финансовые операции, но не может изменять товарный каталог.</li>
                        <li>Аналитик — имеет право только на чтение из всех таблиц.</li>
                    </ul>
                <p><b>Создание пользовательской роли и назначение прав:</b></p>
                <p>sql</p>
                <p>-- 1. Создать роль</p>
                <p>CREATE ROLE [МенеджерПродаж];</p>
                <p>-- 2. Назначить роли конкретные привилегии на конкретные объекты</p>
                <p>GRANT SELECT, INSERT, UPDATE ON [dbo].[Orders] TO [МенеджерПродаж];</p>
                <p>GRANT SELECT ON [dbo].[Customers] TO [МенеджерПродаж];</p>
                <p>GRANT EXECUTE ON [schema_name].[ProcedureName] TO [МенеджерПродаж];</p>
                <p>-- 3. Запретить определенные действия</p>
                <p>DENY DELETE ON [dbo].[Orders] TO [МенеджерПродаж];</p>
                <p>-- 4. Добавить пользователя в роль</p>
                <p>ALTER ROLE [МенеджерПродаж] ADD MEMBER [Иван];</p>
            </ol>
        </div>
        <div class="card">
            <h3>Иерархия прав доступа и принцип наименьших привилегий</h3>
            <p>Права могут конфликтовать. Общее правило:</p>
            <ul>
                <li><b>Запрет (DENY) </b>имеет наивысший приоритет. Он перекрывает любое разрешение (GRANT).</li>
                <li><b>Разрешение (GRANT) </b>дает право на действие.</li>
                <li><b>Лишение права (REVOKE) </b>отменяет ранее выданное разрешение или запрет.</li>
            </ul>
            <p><b>Принцип наименьших привилегий: </b>Пользователю должна быть предоставлена ровно та степень доступа, которая необходима для выполнения его рабочих задач, и не более. Это ключевой принцип информационной безопасности.</p>
            <p><b>Пример: </b>Пользователю Иван нужно только читать данные из таблицы Products.</p>
            <ul>
                <li><b>Правильно: </b>Добавить его в роль db_datareader или создать роль только для чтения и выдать GRANT SELECT ON Products.</li>
                <li><b>Неправильно: </b>Делать его db_owner или db_datawriter.</li>
            </ul>
        </div>
        <div class="card">
            <h3>Практические рекомендации</h3>
            <ol>
                <li><b>Избегайте прямого назначения прав пользователям. </b>Всегда используйте роли.</li>
                <li><b>Используйте встроенные фиксированные роли </b>для стандартных задач администрирования (db_backupoperator, db_datareader).</li>
                <li><b>Создавайте собственные роли </b>для реализации бизнес-логики и сложных требований безопасности.</li>
                <li><b>Регулярно проводите аудит </b>прав доступа. Проверяйте, кто и к каким данным имеет доступ.</li>
                <li><b>Документируйте </b>созданные роли и назначенные им права для упрощения дальнейшего сопровождения.</li>
            </ol>
        </div>
        <div class="card">
            <h3>Заключение</h3>
            <p>Правильное управление ролями — краеугольный камень безопасности и эффективного администрирования любой информационной системы, построенной на основе СУБД. Понимание разницы между серверными и базы данных ролями, а также владение инструментами их настройки является обязательным навыком для специалиста по сопровождению ИС.</p>
        </div>
</div>
</div>
</body>
</html>